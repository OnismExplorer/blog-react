name: "ğŸ§¹ Close Stale Issues (å…³é—­ä¸æ´»è·ƒçš„Issue)"

on:
  schedule:
    # æ¯å¤©å‡Œæ™¨ 2 ç‚¹è¿è¡Œä¸€æ¬¡ (Run once daily at 2:00 AM)
    - cron: "0 2 * * *"

jobs:
  stale:
    runs-on: ubuntu-latest
    permissions:
      issues: write
      pull-requests: write
    steps:
      - name: "Check and close stale issues (æ£€æŸ¥å¹¶å…³é—­ä¸æ´»è·ƒçš„Issue)"
        uses: actions/stale@v9
        with:
          # å‡ å¤©æ— æ´»åŠ¨åè¢«æ ‡è®°ä¸º stale (Days of inactivity before an issue is marked as stale)
          days-before-stale: 60

          # è¢«æ ‡è®°ä¸º stale åï¼Œå‡ å¤©æ— æ´»åŠ¨åè¢«å…³é—­ (Days of inactivity before a stale issue is closed)
          # è®¾ç½®ä¸º -1 è¡¨ç¤ºæ°¸ä¸å…³é—­ï¼Œåªæ ‡è®° (Set to -1 to never close, only mark)
          days-before-close: 14

          # æ ‡è®° stale issue æ—¶ä½¿ç”¨çš„æ ‡ç­¾ (The label to apply to stale issues)
          stale-issue-label: "stale"

          # æ ‡è®° stale issue æ—¶å‘å¸ƒçš„è¯„è®º (Comment to post when marking an issue as stale)
          stale-issue-message: |
            è¿™ä¸ª Issue ç”±äºé•¿æ—¶é—´æ²¡æœ‰æ›´æ–°ï¼Œå·²è¢«æ ‡è®°ä¸º **stale**ã€‚
            å¦‚æœå®ƒåœ¨ 14 å¤©å†…æ²¡æœ‰è¿›ä¸€æ­¥çš„æ´»åŠ¨ï¼Œå°†ä¼šè¢«è‡ªåŠ¨å…³é—­ã€‚å¦‚æœä½ è®¤ä¸ºè¿™ä¸ª Issue ä»ç„¶æœ‰æ•ˆï¼Œè¯·å‘è¡¨è¯„è®ºæˆ–ç§»é™¤ stale æ ‡ç­¾ï¼Œå¦åˆ™è¯·å…³é—­å®ƒã€‚è°¢è°¢ï¼
            ---
            This issue has been marked as **stale** because it has been inactive for a long time.
            It will be closed automatically in 7 days if there is no further activity. If you believe this issue is still valid, please comment or remove the stale label, otherwise please close it. Thank you!

          # å…³é—­ stale issue æ—¶å‘å¸ƒçš„è¯„è®º (Comment to post when closing a stale issue)
          close-issue-message: |
            è¿™ä¸ª Issue ç”±äºè¢«æ ‡è®°ä¸º stale åé•¿æ—¶é—´æ²¡æœ‰æ´»åŠ¨ï¼Œå·²è¢«è‡ªåŠ¨å…³é—­ã€‚å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ–°çš„ Issueã€‚è°¢è°¢ï¼
            ---
            This issue was closed automatically because it has been stale for a long time with no activity. If the problem persists, please create a new issue. Thank you.

          # æ‹¥æœ‰è¿™äº›æ ‡ç­¾çš„ Issue ä¸ä¼šè¢«æ ‡è®°ä¸º stale (Issues with these labels will not be marked as stale)
          exempt-issue-labels: "in-progress,help needed,planning,bug,enhancement"
